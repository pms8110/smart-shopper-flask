/* --- فونت وزیرمتن --- */
body, h1, h2, h3, h4, h5, h6, .brand-logo, input, button, textarea, select {
    font-family: 'Vazirmatn', sans-serif !important;
}

/* ================================================================== */
/* تعریف تم‌ها برای Materialize                 */
/* ================================================================== */
body.light { background-color: #f4f4f4; color: #333; }
body.light nav, body.light .page-footer { background-color: #1565c0 !important; }
body.light .card, body.light .card-panel { background-color: #ffffff; }
body.light .sidenav { background-color: #fff; color: #333; }
body.light .sidenav li > a { color: #444; }
body.light .sidenav li > a > i.material-icons { color: #444; }

body.dark { background-color: #121212; color: #e0e0e0; }
body.dark nav, body.dark .page-footer { background-color: #1f2937 !important; }
body.dark .card, body.dark .card-panel { background-color: #1e1e1e; color: #e0e0e0; }
body.dark .collection, body.dark .collection-item { background-color: #1e1e1e; border-color: #444 !important; color: #e0e0e0; }
body.dark .collection a.collection-item { color: #8bb9fe; }
body.dark h1, body.dark h2, body.dark h3, body.dark h4, body.dark h5, body.dark h6 { color: #f5f5f5; }
body.dark .sidenav { background-color: #1e1e1e; }
body.dark .sidenav li > a { color: #e0e0e0; }
body.dark .sidenav li > a > i.material-icons { color: #e0e0e0; }
body.dark .divider { background-color: #444; }
body.dark input:not([type]), body.dark input[type=text]:not(.browser-default), body.dark input[type=password]:not(.browser-default), body.dark input[type=email]:not(.browser-default), body.dark input[type=url]:not(.browser-default), body.dark input[type=time]:not(.browser-default), body.dark input[type=date]:not(.browser-default), body.dark input[type=datetime]:not(.browser-default), body.dark input[type=datetime-local]:not(.browser-default), body.dark input[type=tel]:not(.browser-default), body.dark input[type=number]:not(.browser-default), body.dark input[type=search]:not(.browser-default), body.dark textarea.materialize-textarea { color: #fff; border-bottom: 1px solid #9e9e9e; }
body.dark input:not([type]):focus:not([readonly]), body.dark input[type=text]:not(.browser-default):focus:not([readonly]), body.dark textarea.materialize-textarea:focus:not([readonly]) { border-bottom: 1px solid #6ea8fe; box-shadow: 0 1px 0 0 #6ea8fe; }
body.dark label { color: #bdbdbd; }
body.dark label.active { color: #6ea8fe !important; }
body.dark .select-wrapper input.select-dropdown { color: #fff; }
body.dark .dropdown-content { background-color: #2c2c2c; }
body.dark .dropdown-content li>a, body.dark .dropdown-content li>span { color: #6ea8fe; }

body.ocean { background-color: #e0f7fa; color: #004d40; }
body.ocean nav, body.ocean .page-footer { background-color: #00796b !important; }
body.ocean .card, body.ocean .card-panel { background-color: #ffffff; }
body.ocean .btn, body.ocean .btn-large, body.ocean .btn-small { background-color: #009688; }
body.ocean .btn:hover, body.ocean .btn-large:hover, body.ocean .btn-small:hover { background-color: #00796b; }
body.ocean .fixed-action-btn .btn-floating { background-color: #26a69a; }

.flash-message { margin-top: 20px; }
body.dark .modal { background-color: #2c2c2c; color: #e0e0e0; }
body.dark .modal .modal-footer { background-color: #373737; }
body.dark .modal .modal-footer .btn-flat { color: #8bb9fe; }

.empty-state-container { text-align: center; padding: 40px 20px; }
.empty-state-container.small-empty-state { padding: 20px; }
.empty-state-container .material-icons.large { font-size: 7rem; color: #e0e0e0; }
.empty-state-container h5, .empty-state-container h6 { margin-top: 20px; font-weight: 500; }
.empty-state-container p { font-size: 1.1rem; }
body.dark .empty-state-container .material-icons.large { color: #424242; }

@keyframes newItemAnimation { from { background-color: #fffde7; } to { background-color: transparent; } }
body.dark @keyframes newItemAnimation { from { background-color: #3a3a2a; } to { background-color: transparent; } }
.collection-item.new-item-highlight { animation: newItemAnimation 1.5s ease-out; }
.item-content { position: relative; transition: color 0.4s ease; }
.item-content::after { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: currentColor; transform: scaleX(0); transform-origin: right; transition: transform 0.4s cubic-bezier(0.55, 0, 0.1, 1); }
body[dir="ltr"] .item-content::after { transform-origin: left; }
.item-content.completed { color: #9e9e9e; }
.item-content.completed::after { transform: scaleX(1); transform-origin: left; }
body[dir="ltr"] .item-content.completed::after { transform-origin: right; }
.collection-item.removing { opacity: 0; transform: translateX(50px); transition: all 0.4s ease; }
body[dir="ltr"] .collection-item.removing { transform: translateX(-50px); }

.toggle-favorite-btn { display: inline-block; vertical-align: middle; margin: 0 8px; cursor: pointer; }
.star-icon { transition: color 0.3s ease, transform 0.3s ease; }
.toggle-favorite-btn:hover .star-icon { transform: scale(1.3); }
.favorites-chips { margin-top: 15px; }
.favorites-chips .chip { cursor: pointer; transition: background-color 0.3s; }
.favorites-chips .chip:hover { background-color: #a7ffeb; }
body.dark .favorites-chips .chip { background-color: #26a69a; color: #000; }
body.dark .favorites-chips .chip:hover { background-color: #80cbc4; }

/* ================================================================== */
/* <<< تغییر جدید: اصلاح چیدمان آیتم‌ها با Flexbox >>> */
/* ================================================================== */
.collection .collection-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-right: 15px; /* کمی فاصله از سمت راست */
}

.collection .collection-item label {
    flex-grow: 1; /* باعث می‌شود بخش اصلی آیتم تمام فضای خالی را بگیرد */
    display: flex;
    align-items: center;
}

.collection .collection-item .secondary-content {
    position: static; /* ریست کردن حالت پیش‌فرض Materialize */
    transform: none;
    display: flex;
    align-items: center;
}

.secondary-content .action-icon {
    display: inline-block;
    padding: 10px;
    border-radius: 50%;
    transition: background-color 0.2s ease-out;
    line-height: 0;
}
.secondary-content .action-icon:hover {
    background-color: rgba(0, 0, 0, 0.05);
}
body.dark .secondary-content .action-icon:hover {
    background-color: rgba(255, 255, 255, 0.08);
}
.secondary-content form {
    display: inline-flex; /* برای هم‌راستا شدن با بقیه آیکون‌ها */
    align-items: center;
}
.secondary-content form .btn-flat.action-icon {
    height: auto;
}
